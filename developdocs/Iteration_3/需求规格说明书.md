# 需求规格说明书

团队名称：OurCoin

完成人：金逸

最终修改时间：2021.6.17

更新历史

| 修改人员 |   日期    |  变更原因  |  版本号   |
| :------: | :-------: | :--------: | :-------: |
|   金逸   | 2021.5.15 |  最初草稿  | V3.0草稿  |
|   金逸   | 2021.5.30 | 评审后初版 | V3.0 正式 |
|   金逸   | 2021.6.10 |  需求变更  |   V3.1    |
|   金逸   | 2021.6.17 |  需求变更  |   V3.2    |

## 目录

[TOC]

## 1.引言

### 1.1 目的

​		本文档详细描述COIN知识图谱定义及可视化系统的需求，表述的需求信息要求明确、无二义性。开发方与软件使用者充分沟通需求，最终形成此文档。此文档是后续软件开发的依据。

### 1.2 范围

​		本项目旨在构建一个系统平台通过在线编辑基本图元以可视化的方式构建一个结构完整、业务覆盖全面的ACG相关资料的知识图谱。

### 1.3 定义、首字母缩写和缩略语

COIN：COnstructing and vIsualizing kNowledge graph

ACG： Animation, Comics, and Games

### 1.4 参考文献

[1]软件工程与计算（卷三） 团队与软件开发实践，骆斌 刘嘉 张瑾玉 黄蕾，ISBN：978-7-111-40749-2

### 1.5 文档组织

[1]计划文档

[2]项目启动文档

## 2.总体描述

### 2.1 产品前景

​		知识图谱（ Knowledge Graph）的概念由谷歌 2012 年正式提出，旨在实现更智能的搜索引擎，并且于 2013 年以后开始在学术界和业界普及。目前，随着智能信息服务应用的不断发展，知识图谱已被广泛应用于智能搜索、智能问答、个性化推荐、
情报分析、反欺诈等领域。知识图谱以其强大的语义处理能力与开放互联能力，可为万维网上的知识互联奠定扎实的基础，使 Web 3.0 提出的“知识之网”愿景成为了可能。知识图谱是一种结构化的语义知识库，用于迅速描述物理世界中的概念及其相互关系。通常知识图通过对错综复杂的文档的数据进行有效的加工、处理、整合，转化为简单、清晰的“实体,关系,实体”的三元组，最后聚合大量知识，从而实现知识的快速响应和推理。

​		ACG(Animation, Comics & Games)，是21世纪初以来以日本为发源地逐渐产生的一个亚文化种类。近年来，ACG内容在中国逐渐获得了范围较广的受众，形成了一个影响力较大的亚文化圈。然而，在互联网上，并没有一个网站可以给用户提供较为系统、完整的ACG内容，并以结构化的方式向用户展示。ACG文化受众活跃的网站有以B站为首的开放视频平台，或是诸如萌娘百科等的百科网站。其中对于ACG内容有着或是资料不全面，或是资料过于冗余繁杂的问题。因此，一个能为用户以可视化方式提供结构化、完善的ACG内容的资料网站具有十分巨大的需求。

### 2.2 产品功能

​		以可视化的方式构建一个结构完整、业务覆盖全面的ACG资料相关的知识图谱，并能通过系统平台在线编辑基本图元，具备一定的知识推理能力。

### 2.3 假设和依赖

#### 2.3.1 假设

AS-1 用户可以连接互联网并具备一定网络知识

AS-2 用户愿意针对使用过程中出现的问题随时做出反馈

AS-3 用户分享知识资源时需要进行声明（转载还是原创），相关版权纠纷问题由用户自行负责

AS-4 大部分用户愿意在COIN系统分享知识资源

AS-5 普通用户平均每天会登陆网站5次

#### 2.3.2 依赖

DE-1 需要租用云服务器提供商的服务器资源，比如阿里云、华为云......

## 3.详细需求描述

### 3.1 对外接口需求

#### 3.1.1 用户界面



#### 3.1.2 软件接口

SI：使用MySql作为底层数据库存储各种数据。

#### 3.1.3 通信接口

本产品采用TCP/IP网络协议。

### 3.2 功能需求

#### 3.2.1 创建知识图谱

##### 3.2.1.1 特征描述

​		用户可以在页面上选择相应的路径，新建知识图谱。

##### 3.2.1.2 刺激/响应序列

刺激：用户选择路径，点击新建知识图谱，并输入名称等基本信息。

相应：系统保存新建的知识图谱信息。

##### 3.2.1.3 相关功能需求

| 功能                    | 描述                   |
| ----------------------- | ---------------------- |
| GraphicService.addGraph | 系统新建知识图谱并保存 |

#### 3.2.2 编辑知识图谱

##### 3.2.2.1 特征描述

​		用户可以在页面上以编辑知识图谱。

##### 3.2.2.2 刺激/响应序列

刺激：用户选择知识图谱编辑的对象

响应：系统返回编辑界面

刺激：用户取消编辑

响应：系统退出编辑界面

刺激：用户输入编辑内容并确认提交

响应：系统保存编辑内容并展示编辑后的知识图谱

##### 3.2.2.3 相关功能需求

| 功能                             | 描述                 |
| -------------------------------- | -------------------- |
| EntityService.getEntityByEid     | 系统返回要编辑的节点 |
| RelationService.getRelationByRid | 系统返回要编辑的关系 |
| GraphicService.saveGraph         | 系统保存编辑后的图谱 |

#### 3.2.3 导出知识图谱

##### 3.2.3.1 特征描述

​		用户可以在页面上以多种格式导出知识图谱。

##### 3.2.3.2 刺激/响应序列

刺激：用户点击导出文件

响应：系统返回导出文件类型选择界面

刺激：用户取消导出文件

响应：系统退出导出文件类型选择界面

刺激：用户点击导出文件类型

响应：系统导出相应类型的知识图谱

##### 3.2.3.3 相关功能需求

| 功能                     | 描述                 |
| ------------------------ | -------------------- |
| GraphicService.writeFile | 系统导出知识图谱文件 |

#### 3.2.4 新建实体

##### 3.2.4.1 特征描述

​		用户可以在知识图谱中新建实体。

##### 3.2.4.2 刺激/响应序列

刺激：用户点击新增节点

响应：系统返回新增节点界面

刺激：用户输入节点信息并点击确认

响应：系统保存新增的节点信息

##### 3.2.4.3 相关功能需求

| 功能                    | 描述               |
| ----------------------- | ------------------ |
| EntityService.addEntity | 系统保存新增的实体 |

#### 3.2.5 新建关系

##### 3.2.5.1 特征描述

​		用户可以在知识图谱中新建关系。

##### 3.2.5.2 刺激/响应序列

刺激：用户点击新增关系

响应：系统返回新增关系界面

刺激：用户输入关系信息并点击确认

响应：系统保存新增的节点信息

##### 3.2.5.3 相关功能需求

| 功能                        | 描述               |
| --------------------------- | ------------------ |
| RelationService.addRelation | 系统保存新增的关系 |

#### 3.2.6 删除实体

##### 3.2.6.1 特征描述

​		用户可以在知识图谱中删除实体。

##### 3.2.6.2 刺激/响应序列

刺激：用户选中节点并点击删除

响应：系统保存删除操作的结果

##### 3.2.6.3 相关功能需求

| 功能                       | 描述                   |
| -------------------------- | ---------------------- |
| EntityService.deleteEntity | 系统保存删除操作的结果 |

#### 3.2.7 删除关系

##### 3.2.7.1 特征描述

​		用户可以在知识图谱中删除关系。

##### 3.2.7.2 刺激/响应序列

刺激：用户选中关系并点击删除

响应：系统保存删除操作的结果

##### 3.2.7.3 相关功能需求

| 功能                           | 描述                   |
| ------------------------------ | ---------------------- |
| RelationService.deleteRelation | 系统保存删除操作的结果 |

#### 3.2.8 获取节点详细内容

##### 3.2.8.1 特征描述

​		用户可以在知识图谱中获取节点的详细内容。

##### 3.2.8.2 刺激/响应序列

刺激：用户选中节点并点击

响应：系统返回相应节点的详细信息

##### 3.2.8.3 相关功能需求

| 功能                           | 描述                             |
| ------------------------------ | -------------------------------- |
| RelationService.getEnitiyByEid | 系统返回节点所表示对象的详细信息 |

#### 3.2.9 获取节点信息详情

##### 3.2.9.1 特征描述

​		用户可以在知识图谱中获取节点所表示对象的详细内容。

##### 3.2.9.2 刺激/响应序列

刺激：用户右键点击相应节点，选中查看详细信息

响应：系统返回节点所表示对象的详细信息

##### 3.2.9.3 相关功能需求

| 功能                           | 描述                             |
| ------------------------------ | -------------------------------- |
| RelationService.getDetailByEid | 系统返回节点所表示对象的详细信息 |

#### 3.2.10 获取节点信息详情

##### 3.2.10.1 特征描述

​		用户可以在个人页面查看其创建、拥有的知识图谱列表。

##### 3.2.10.2 刺激/响应序列

刺激：用户进入个人页面，点击“我的图谱”按钮

响应：系统返回用户所拥有的知识图谱的列表

##### 3.2.10.3 相关功能需求

| 功能                          | 描述                               |
| ----------------------------- | ---------------------------------- |
| GraphicService.getGraphsByUid | 系统返回用户所拥有的知识图谱的列表 |

#### 3.2.11 获取图的详情

##### 3.2.11.1 特征描述

​		用户可以在个人页面选择列表中的一张知识图谱，查看图的具体信息。

##### 3.2.11.2 刺激/响应序列

刺激：用户进入个人页面，点击“我的图谱”按钮

响应：系统返回用户所拥有的知识图谱的列表

刺激：用户选中响应图谱，并单击

响应：系统返回知识图谱的详细信息，并以可视化的方式展示在页面上

##### 3.2.11.3 相关功能需求

| 功能                          | 描述                       |
| ----------------------------- | -------------------------- |
| GraphicService.getGraphsByUid | 系统返回知识图谱的详细信息 |

#### 3.2.12 语义搜索

##### 3.2.12.1 特征描述

​		用户可以在进行语义搜索，并选择保存可视化的搜索结果的图谱。

##### 3.2.12.2 刺激/响应序列

刺激：用户输入搜索内容，点击搜索

响应：系统返回用户可能要搜索的内容

刺激：用户从返回的列表中选择想要搜索的内容

响应：系统返回与搜索内容相关的知识图谱

刺激：用户点击保存图谱

响应：系统保存图谱，并返回保存结果

##### 3.2.12.3 相关功能需求

| 功能                         | 描述                                 |
| ---------------------------- | ------------------------------------ |
| UserService.supplement       | 系统返回用户输入后推理出的关键词列表 |
| UserService.search           | 系统返回语义搜索后的可视化图谱结果   |
| GraphicService.generateGraph | 系统返回知识图谱的详细信息           |

#### 3.2.14 智能问答

##### 3.2.14.1 特征描述

​		用户可以在进行智能问答，系统能在有限问题种类范围内回答用户提出的ACG相关问题的答案。

##### 3.2.14.2 刺激/响应序列

刺激：用户进入智能问答界面，输入问题

响应：系统返回根据图谱内容推理获得的问题答案

##### 3.2.14.3 相关功能需求

| 功能               | 描述                                           |
| ------------------ | ---------------------------------------------- |
| UserService.answer | 系统返回根据图谱内容推理获得的用户的问题的答案 |

#### 3.2.15 历史记录

##### 3.2.15.1 特征描述

​		用户可以在搜索页面查看搜索的历史记录。

##### 3.2.15.2 刺激/响应序列

刺激：用户进入语义搜索界面

响应：系统返回用户的搜索历史列表

##### 3.2.15.3 相关功能需求

| 功能                   | 描述                       |
| ---------------------- | -------------------------- |
| UserService.getHistory | 系统返回用户的历史搜索记录 |

#### 3.2.16 删除历史记录

##### 3.2.16.1 特征描述

​		用户可以在搜索页面删除单条或清除所有历史搜索记录。

##### 3.2.16.2 刺激/响应序列

刺激：用户进入语义搜索界索

响应：系统返回用户的搜索历史列表

刺激：用户选择历史记录条目，点击删除

响应：系统删除该条历史记录，并返回删除结果

刺激：用户选择清除所有历史记录

响应：系统删除该用户所有的历史记录，并返回删除结果

##### 3.2.16.3 相关功能需求

| 功能                       | 描述                                         |
| -------------------------- | -------------------------------------------- |
| UserService.deleteHistory  | 系统删除该条历史记录，并返回删除结果         |
| UserService.cleatHistories | 系统删除该用户所有的历史记录，并返回删除结果 |

#### 3.2.17 个性推荐

##### 3.2.17.1 特征描述

​		用户可以在搜索页面获取个性化推荐。

##### 3.2.17.2 刺激/响应序列

刺激：用户进入语义搜索界索

响应：系统返回用户个性化推荐结果列表

刺激：用户点击“换一换”

响应：系统返回新生成的个性化推荐结果列表

##### 3.2.17 .3 相关功能需求

| 功能                  | 描述                             |
| --------------------- | -------------------------------- |
| UserService.recommend | 系统返回用户个性化推荐的结果列表 |

### 3.3 性能需求

| 类别   | ID   | 需求内容                                                   |
| ------ | ---- | ---------------------------------------------------------- |
| 速度   | PR1  | 更新系统内个模块数据的处理时间：<1.5s                      |
|        | PR2  | 系统内各个接口响应时间：<0.1s                              |
|        | PR3  | 语义搜索后生成并展示知识图谱的响应时间：<10s               |
|        | PR4  | 编辑知识图谱后更新展示的响应时间：<10s                     |
| 容量   | PR5  | 系统应该能够存储至少1w张知识图谱                           |
| 负载   | PR6  | 系统在1000个用户同时访问网站时能正常工作                   |
|        | PR7  | 系统应允许100个用户同时编辑知识图谱                        |
| 实时性 | PR8  | 系统必须及时更新数据库，确保知识图谱等内容的实时性和准确性 |

### 3.4 约束

| ID   | 需求内容                                                     |
| ---- | ------------------------------------------------------------ |
| C1   | 系统每半年出现的服务中断次数不得超过2次                      |
| C2   | 系统的最大响应时间不得超过5s                                 |
| C3   | 系统要满足较高的安全性需求，包括不允许用户信息泄露、不允许知识图谱被非法复制、用户身份检测不能被网络攻击所绕开 |
| C4   | 系统需要允许资源可以永久扩展                                 |

### 3.5 质量属性

| ID   | 特征     | 需求内容                                           |
| ---- | -------- | -------------------------------------------------- |
| QR1  | 功能性   | 系统满足用户所需要的所有需求，功能完备             |
| QR2  | 可移植性 | 系统为程序员定制，不许考虑可移植性                 |
| QR3  | 可维护性 | 系统易于维护，易于进行修改和缺陷剔除               |
| QR4  | 效率     | 系统处理知识图谱等需求的效率高                     |
| QR5  | 可靠性   | 系统在崩溃时能自动保存数据，确保数据不会丢失       |
| QR6  | 可用性   | 系统界面简洁明了，用户可以短时间了解网站的各项功能 |

### 3.6 其他需求

| ID   | 需求内容                                          |
| ---- | ------------------------------------------------- |
| 1    | 对系统现有的数据进行备份，定时保存                |
| 2    | 系统投入使用时，需要对管理员进行1天的新手指导教程 |

